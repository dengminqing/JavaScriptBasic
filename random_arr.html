<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style type="text/css">
        html,body{
		    margin: 0;
			background-color:#F5F5F5;
		}
		.container{
		    width: 100%;
		    height: 35px;
		    overflow: auto;
		}
		#result{
		    top: 150px;
		}
		.item{
		    /*position: absolute;*/
		    float: left;
		    padding: 5px;
		    width: 13px;
		    border: 1px solid;
		}
    </style>
	<script  type="text/javascript" class="library" src="http://sandbox.runjs.cn/js/sandbox/jquery/jquery-1.8.3.min.js"></script>
</head>
<body>
	<div id="wrapper">
		<div id="source" class="container"></div>
		<input type="button" value="运行" id="run"/>
		<div id="result" class="container"></div>
	</div>
	<script type="text/javascript">
			var obj = {
			    p: 0
			};
			$(function() {
			    var array = init();
			    $('#run').click(function(){
			        $(this).hide();
			        $('#result').empty();
			        $('#source').empty();
			        array = init();
			        shuffle1(array);
			    })
			});

			function init() {
			    var array = [],
			        i = 0;
			    while (i<30) {
			        
			        array[i] = i;
			        $('<span class="item entry' + i + '" style="left:' + i * 25 + 'px;">' + i + '</span>').appendTo('#source');
			        i++;
			    }
			    return array;
			}

			function display(order,current) {
			    //$('#source .entry'+i).remove();
			    var elder = $('.entry' + current);
			    $(obj).animate({
			        p: 100
			    }, 400, function() {
			    var temp = elder.clone()
			    				.css({'top':0,'position':'absolute','left':elder.offset().left})
			    				.appendTo("#result");
			        elder.html('&nbsp&nbsp&nbsp').css('borderColor','#F5F5F5');
			        temp.animate({
			            top: 100,
			            left: order * 25
			        }, 400,function(){
			            elder.remove();
			            if (order===29) {
			                $('#run').show();
			            };
			        });
			    });
			}

			function shuffle1(array) {
			    var copy = [],
			        n = array.length,
			        i;
			    while (n) {
			        i = Math.floor(Math.random() * array.length);
			        if (i in array) {
			            copy.push(array[i]);
			            var order = array.length - n;
			            var current = i;
			            display(order, current);
			            delete array[i];
			            n--;
			        }
			    }
			    return copy;
			}

			function shuffle2(array) {
			    var copy = [],
			        m=n = array.length,
			        i;
			    while (n) {
			        i = Math.floor(Math.random() * n--);
			        display(m- n-1,array[i]);
			        copy.push(array.splice(i, 1)[0]);

			    }
			    return copy;
			}

			function shuffle3(array) {
			    var m = array.length,
			        t, i;
			    while (m) {
			        i = Math.floor(Math.random() * m--);
			        t = array[m];
			        array[m] = array[i];
			        array[i] = t;
			    }
			    return array;
			}
        </script>	

</body>
</html>

<!-- Generated by RunJS (Thu Oct 08 16:05:53 CST 2015) 1ms -->